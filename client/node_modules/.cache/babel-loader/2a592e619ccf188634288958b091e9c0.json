{"ast":null,"code":"var _jsxFileName = \"/home/deion/ttp-stockportfolio/client/src/component/stock/searchBar.js\";\nimport React, { Component } from \"react\";\nimport StockCard from './StockCard';\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\n\nclass SearchPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = event => {\n      this.setState({\n        ticker: event.target.value\n      });\n    };\n\n    this.findStock = async e => {\n      e.preventDefault();\n      console.log('ticker ', this.state.ticker.length);\n\n      if (this.state.ticker.length === 0) {\n        console.log('here');\n        return;\n      }\n\n      const config = {\n        method: 'get',\n        url: 'https://api.worldtradingdata.com/api/v1/stock?symbol=' + this.state.ticker + '&api_token=NMxF4WdHHvk7cnner45xAm5HJ9nFlivjWgeIcYCsPzLUzDhMhxyHIu09IxOU'\n      };\n\n      try {\n        let res = await axios(config);\n        console.log(res);\n\n        if (res.data.length < 1) {\n          console.log('bad data');\n          this.setState({\n            getInfo: true,\n            error: true\n          });\n          console.log('error is ', this.state.error);\n        }\n\n        let stock = {\n          symbol: res.data.data[0].symbol,\n          price: res.data.data[0].price,\n          size: res.data.data[0].shares\n        };\n        this.setState({\n          getInfo: true,\n          stock: stock,\n          error: false\n        });\n        console.log(res);\n      } catch (err) {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.state = {\n      ticker: '',\n      getInfo: false,\n      stock: '',\n      error: false\n    };\n    this.handleInput = this.handleInput.bind(this);\n  }\n\n  render() {\n    if (this.state.getInfo === true) {\n      if (this.state.error === true) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter a Ticker Name\",\n          name: \"search\",\n          onChange: this.handleInput,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(Button, {\n          size: \"small\",\n          onClick: this.findStock,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Find\")), React.createElement(StockCard, {\n          error: true,\n          errmsg: 'This Stock Could Not Be Found',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter a Ticker Name\",\n        name: \"search\",\n        onChange: this.handleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(Button, {\n        size: \"small\",\n        onClick: this.findStock,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Find\")), React.createElement(StockCard, {\n        error: false,\n        title: this.state.stock.symbol,\n        cost: this.state.stock.price,\n        quantity: this.state.stock.size,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter a Ticker Name\",\n      name: \"search\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"small\",\n      onClick: this.findStock,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Find\")));\n  }\n\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["/home/deion/ttp-stockportfolio/client/src/component/stock/searchBar.js"],"names":["React","Component","StockCard","axios","Button","SearchPage","constructor","props","handleInput","event","setState","ticker","target","value","findStock","e","preventDefault","console","log","state","length","config","method","url","res","data","getInfo","error","stock","symbol","price","size","shares","err","bind","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport StockCard from './StockCard'\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\n\nclass SearchPage extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            ticker:'',\n            getInfo:false,\n            stock:'',\n            error:false \n        }\n        this.handleInput= this.handleInput.bind(this)\n    }\n\n    handleInput= (event) => {\n        this.setState({\n            ticker: event.target.value\n        });\n    }\n    \n    findStock = async (e)=>{\n        e.preventDefault();\n        console.log('ticker ',this.state.ticker.length)\n        if(this.state.ticker.length===0){\n            console.log('here')\n            return;\n        }\n        const config ={ \n            method: 'get',\n            url: 'https://api.worldtradingdata.com/api/v1/stock?symbol='+this.state.ticker+'&api_token=NMxF4WdHHvk7cnner45xAm5HJ9nFlivjWgeIcYCsPzLUzDhMhxyHIu09IxOU'\n        }\n\n        try{\n            let res=await axios(config)\n            console.log(res)\n            if(res.data.length<1){\n                console.log('bad data')\n                this.setState({getInfo:true,error:true})\n                console.log('error is ',this.state.error)\n            }\n            let stock= {\n                symbol:res.data.data[0].symbol,\n                price:res.data.data[0].price,\n                size:res.data.data[0].shares\n            }\n            this.setState({getInfo:true,stock:stock,error:false})\n            console.log(res)\n        }catch(err){\n            this.setState({error:true})\n        }\n    }\n\n    render(){\n\n            if(this.state.getInfo===true){\n                if(this.state.error===true){\n                    return(\n                        <div>\n                        <form>\n                        <input type=\"text\" placeholder=\"Enter a Ticker Name\" name=\"search\" onChange={this.handleInput} />\n                        <Button size=\"small\" onClick={this.findStock}>\n                            Find\n                        </Button>\n                        </form>\n                        <StockCard error={true} errmsg={'This Stock Could Not Be Found'} />\n                        </div>\n                    )\n                }\n\n                    return(\n                        <div>\n                        <form>\n                        <input type=\"text\" placeholder=\"Enter a Ticker Name\" name=\"search\" onChange={this.handleInput} />\n                        <Button size=\"small\" onClick={this.findStock}>\n                            Find\n                        </Button>\n                        </form>\n                        <StockCard error={false} title={this.state.stock.symbol} cost={this.state.stock.price} quantity={this.state.stock.size} />\n                        </div>\n                    )\n                \n            }\n\n            return(\n                <div>\n                <form>\n                <input type=\"text\" placeholder=\"Enter a Ticker Name\" name=\"search\" onChange={this.handleInput} />\n                <Button size=\"small\" onClick={this.findStock}>\n                            Find\n                </Button>\n                </form>\n                </div>\n            )\n    }\n}\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}