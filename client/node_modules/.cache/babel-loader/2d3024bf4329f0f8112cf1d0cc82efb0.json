{"ast":null,"code":"import React, { Component } from 'react';\nimport validate from 'validator';\n\nfunction error(msg) {\n  return {\n    error: true,\n    msg: msg\n  };\n}\n\nfunction valid() {\n  return {\n    error: false,\n    msg: \"\"\n  };\n}\n\nfunction validateName(name) {\n  //validate.validators.presence.message = \"is required\";\n  let result = validate({\n    name: name\n  }, {\n    input: {\n      presence: {\n        allowEmpty: false\n      }\n    }\n  });\n  return result;\n}\n\nfunction validateEmail(email) {\n  let constraints = {\n    from: {\n      email: {\n        message: \"Invalid Email\"\n      }\n    }\n  };\n  let result = validate({\n    from: email\n  }, constraints);\n  return result;\n}\n\nfunction validatePassword(password) {\n  let regex = '^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$';\n\n  if (regex.test(password) === false) {\n    return error(\"Password does not meet criteria\");\n  } else {\n    return valid();\n  }\n}\n\nfunction validateConfirmPassword(password, confirmPassword) {\n  if (password != confirmPassword) {\n    console.log('password function');\n    return error(\"Passwords do not match\");\n  } else {\n    return valid();\n  }\n}\n\nexport function validateForm(fieldName, field) {\n  switch (fieldName) {\n    case \"firstName\":\n      validateName(field);\n      break;\n\n    case \"lastName\":\n      validateName(field);\n      break;\n\n    case \"email\":\n      validateEmail(field);\n      break;\n\n    case \"password\":\n      validatePassword(field);\n      break;\n\n    case \"confirmPassword\":\n      validateConfirmPassword(field);\n      break;\n\n    default:\n      return valid();\n  }\n}","map":{"version":3,"sources":["/home/deion/ttp-stockportfolio/client/src/component/validate.js"],"names":["React","Component","validate","error","msg","valid","validateName","name","result","input","presence","allowEmpty","validateEmail","email","constraints","from","message","validatePassword","password","regex","test","validateConfirmPassword","confirmPassword","console","log","validateForm","fieldName","field"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAGI,SAASC,KAAT,CAAeC,GAAf,EAAmB;AACf,SAAO;AACHD,IAAAA,KAAK,EAAC,IADH;AAEHC,IAAAA,GAAG,EAACA;AAFD,GAAP;AAIH;;AAED,SAASC,KAAT,GAAgB;AACZ,SAAO;AACHF,IAAAA,KAAK,EAAC,KADH;AAEHC,IAAAA,GAAG,EAAC;AAFD,GAAP;AAIH;;AAED,SAASE,YAAT,CAAsBC,IAAtB,EAA2B;AACvB;AACA,MAAIC,MAAM,GAAGN,QAAQ,CAAC;AAACK,IAAAA,IAAI,EAACA;AAAN,GAAD,EAAc;AAACE,IAAAA,KAAK,EAAE;AAACC,MAAAA,QAAQ,EAAE;AAACC,QAAAA,UAAU,EAAE;AAAb;AAAX;AAAR,GAAd,CAArB;AACA,SAAOH,MAAP;AACH;;AAED,SAASI,aAAT,CAAuBC,KAAvB,EAA6B;AACzB,MAAIC,WAAW,GAAG;AACdC,IAAAA,IAAI,EAAE;AACJF,MAAAA,KAAK,EAAE;AACLG,QAAAA,OAAO,EAAE;AADJ;AADH;AADQ,GAAlB;AAQA,MAAIR,MAAM,GAACN,QAAQ,CAAC;AAACa,IAAAA,IAAI,EAAEF;AAAP,GAAD,EAAgBC,WAAhB,CAAnB;AACA,SAAON,MAAP;AACH;;AAED,SAASS,gBAAT,CAA0BC,QAA1B,EAAmC;AAC/B,MAAIC,KAAK,GAAC,gEAAV;;AACA,MAAGA,KAAK,CAACC,IAAN,CAAWF,QAAX,MAAuB,KAA1B,EAAgC;AAC5B,WAAOf,KAAK,CAAC,iCAAD,CAAZ;AACH,GAFD,MAGI;AACA,WAAOE,KAAK,EAAZ;AACH;AACJ;;AAED,SAASgB,uBAAT,CAAiCH,QAAjC,EAA0CI,eAA1C,EAA0D;AACtD,MAAGJ,QAAQ,IAAEI,eAAb,EAA6B;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,WAAOrB,KAAK,CAAC,wBAAD,CAAZ;AACH,GAHD,MAII;AACA,WAAOE,KAAK,EAAZ;AACH;AACJ;;AAED,OAAO,SAASoB,YAAT,CAAuBC,SAAvB,EAAiCC,KAAjC,EAAwC;AAC3C,UAAOD,SAAP;AACI,SAAK,WAAL;AACIpB,MAAAA,YAAY,CAACqB,KAAD,CAAZ;AACA;;AACJ,SAAK,UAAL;AACIrB,MAAAA,YAAY,CAACqB,KAAD,CAAZ;AACA;;AACJ,SAAK,OAAL;AACIf,MAAAA,aAAa,CAACe,KAAD,CAAb;AACA;;AACJ,SAAK,UAAL;AACIV,MAAAA,gBAAgB,CAACU,KAAD,CAAhB;AACA;;AACJ,SAAK,iBAAL;AACIN,MAAAA,uBAAuB,CAACM,KAAD,CAAvB;AACA;;AACJ;AACI,aAAOtB,KAAK,EAAZ;AAjBR;AAmBH","sourcesContent":["import React, { Component } from 'react';\nimport validate from 'validator';\n\n\n    function error(msg){\n        return {\n            error:true,\n            msg:msg\n        }\n    }\n\n    function valid(){\n        return {\n            error:false,\n            msg:\"\"\n        }\n    }\n\n    function validateName(name){\n        //validate.validators.presence.message = \"is required\";\n        let result = validate({name:name}, {input: {presence: {allowEmpty: false}}});\n        return result;\n    }\n\n    function validateEmail(email){\n        let constraints = {\n            from: {\n              email: {\n                message: \"Invalid Email\"\n              }\n            }\n        };\n\n        let result=validate({from: email}, constraints)\n        return result;\n    }\n\n    function validatePassword(password){\n        let regex='^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$'\n        if(regex.test(password)===false){\n            return error(\"Password does not meet criteria\")\n        }\n        else{\n            return valid()\n        }\n    }\n\n    function validateConfirmPassword(password,confirmPassword){\n        if(password!=confirmPassword){\n            console.log('password function')\n            return error(\"Passwords do not match\")\n        }\n        else{\n            return valid()\n        }\n    }\n\n    export function validateForm (fieldName,field) {  \n        switch(fieldName) {\n            case \"firstName\":\n                validateName(field)\n                break;\n            case \"lastName\":\n                validateName(field)\n                break;\n            case \"email\":\n                validateEmail(field)\n                break;\n            case \"password\":\n                validatePassword(field)\n                break;\n            case \"confirmPassword\":\n                validateConfirmPassword(field)\n                break;\n            default:\n                return valid()\n        }\n    }\n"]},"metadata":{},"sourceType":"module"}