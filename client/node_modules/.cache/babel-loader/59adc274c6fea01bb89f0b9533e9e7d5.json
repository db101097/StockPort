{"ast":null,"code":"var _jsxFileName = \"/home/deion/ttp-stockportfolio/client/src/component/stock/Quantity.js\";\nimport React, { Component } from \"react\";\nimport StockCard from './StockCard';\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\nimport { validate } from \"@babel/types\";\nimport Cookies from 'react-cookies';\nimport Alert from './Alert';\n\nclass SearchPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = event => {\n      this.setState({\n        qty: event.target.value\n      });\n    };\n\n    this.validate = () => {\n      console.log('Validate');\n\n      if (typeof Number(this.state.qty) !== 'number') {\n        console.log('not a number');\n        return false;\n      } else if (this.state.qty < 1 || this.state.qty > this.props.maxsize || this.state.qty % 1 !== 0) {\n        console.log('Other erro');\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.makePurchase = async () => {\n      try {\n        const config = {\n          method: 'put',\n          url: 'http://localhost:8080/purchase',\n          data: {\n            \"id\": Cookies.load('user'),\n            \"costPerShare\": this.props.price,\n            \"ticker\": this.props.ticker,\n            \"qty\": Number(this.state.qty)\n          },\n          headers: {\n            Authorization: \"Bearer \" + Cookies.load('token')\n          }\n        };\n        console.log(\"costPerShare \", this.props.price, \"ticker \", this.props.ticker, \"qty \", this.state.qty);\n        let res = await axios(config);\n        console.log('Purchase ', res);\n        alert('Success you copped those stocks');\n      } catch (err) {\n        console.log(err);\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.buy = async e => {\n      e.preventDefault();\n\n      try {\n        this.makePurchase();\n      } catch (err) {\n        console.log(err);\n        let e = {\n          status: true,\n          message: err\n        };\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.state = {\n      qty: 0,\n      getInfo: false,\n      stock: '',\n      error: false\n    };\n    this.handleInput = this.handleInput.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  componentDidMount() {//this.setState({error:false})\n  }\n\n  render() {\n    console.log('ERRor is', this.state.error);\n\n    if (this.state.error === true) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Alert, {\n        message: \"Failed To Purchase Stocks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter a Quantity\",\n        name: \"search\",\n        onChange: this.handleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(Button, {\n        size: \"small\",\n        onClick: this.buy,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"BUY\")));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter a Quantity\",\n      name: \"search\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Button, {\n      size: \"small\",\n      onClick: this.buy,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"BUY\")));\n  }\n\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["/home/deion/ttp-stockportfolio/client/src/component/stock/Quantity.js"],"names":["React","Component","StockCard","axios","Button","validate","Cookies","Alert","SearchPage","constructor","props","handleInput","event","setState","qty","target","value","console","log","Number","state","maxsize","makePurchase","config","method","url","data","load","price","ticker","headers","Authorization","res","alert","err","error","buy","e","preventDefault","status","message","getInfo","stock","bind","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport StockCard from './StockCard'\nimport axios from 'axios';\nimport Button from '@material-ui/core/Button';\nimport { validate } from \"@babel/types\";\nimport Cookies from 'react-cookies'\nimport Alert from './Alert'\nclass SearchPage extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            qty:0,\n            getInfo:false,\n            stock:'',\n            error:false \n        }\n        this.handleInput= this.handleInput.bind(this)\n        this.validate=this.validate.bind(this)\n    }\n\n    handleInput= (event) => {\n        this.setState({\n            qty: event.target.value\n        });\n    }\n\n    validate = ()=>{\n        console.log('Validate')\n        if(typeof(Number(this.state.qty))!=='number'){\n            console.log('not a number')\n            return false\n        }\n\n        else if(this.state.qty<1 || this.state.qty>this.props.maxsize || this.state.qty%1!==0){\n            console.log('Other erro')\n            return false\n        }\n        else{\n            return true\n        }\n    }\n\n    makePurchase=async ()=>{\n        try{\n            const config ={ \n                method: 'put',\n                url: 'http://localhost:8080/purchase',\n                data:{\n                    \"id\":Cookies.load('user'),\n                    \"costPerShare\":this.props.price,\n                    \"ticker\":this.props.ticker,\n                    \"qty\":Number(this.state.qty)\n                },\n                headers: {\n                    Authorization: \"Bearer \" + Cookies.load('token')\n                }\n            }\n            console.log(\"costPerShare \",this.props.price,\n            \"ticker \",this.props.ticker,\n            \"qty \",this.state.qty)\n            let res=await axios(config)\n            console.log('Purchase ',res)\n            alert('Success you copped those stocks')\n        }catch(err){\n            console.log(err)\n            this.setState({error:true})\n        }\n    }\n\n    buy = async (e)=>{\n        e.preventDefault();\n        try{\n            this.makePurchase()\n        }catch(err){\n            console.log(err)\n            let e = {\n                status:true,\n                message:err\n            }\n            this.setState({error:true})\n        } \n    }\n\n    componentDidMount(){\n        //this.setState({error:false})\n    }\n\n    render(){\n        console.log('ERRor is',this.state.error)\n        if(this.state.error===true){\n            return(\n                <div>\n                 <Alert message={\"Failed To Purchase Stocks\"}/>\n                <form>\n                <input type=\"text\" placeholder=\"Enter a Quantity\" name=\"search\" onChange={this.handleInput} />\n                <Button size=\"small\" onClick={this.buy}>\n                     BUY\n                 </Button>\n                </form>\n                </div>\n            )\n        }\n            return(\n                <div>\n                <form>\n                <input type=\"text\" placeholder=\"Enter a Quantity\" name=\"search\" onChange={this.handleInput} />\n                <Button size=\"small\" onClick={this.buy}>\n                     BUY\n                 </Button>\n                </form>\n                </div>\n            )\n    }\n}\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}