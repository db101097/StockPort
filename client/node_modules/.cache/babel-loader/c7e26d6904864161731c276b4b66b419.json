{"ast":null,"code":"var _jsxFileName = \"/home/deion/ttp-stockportfolio/client/src/component/stock/searchBar.js\";\nimport React, { Component } from \"react\";\nimport StockCard from './StockCard';\nimport axios from 'axios';\n\nclass SearchPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = event => {\n      this.setState({\n        ticker: event.target.value\n      });\n    };\n\n    this.findStock = async e => {\n      e.preventDefault();\n      console.log('ticker ', this.state.ticker.length);\n\n      if (this.state.ticker.length === 0) {\n        console.log('here');\n        return;\n      }\n\n      const config = {\n        method: 'get',\n        url: 'https://api.iextrading.com/1.0/tops?symbols=' + this.state.ticker\n      };\n\n      try {\n        let res = await axios(config);\n        console.log(res);\n\n        if (res.data.length < 1) {\n          console.log('bad data');\n          this.setState({\n            getInfo: true,\n            error: true\n          });\n          console.log('error is ', this.state.error);\n        }\n\n        let stock = {\n          symbol: res.data[0].symbol,\n          price: res.data[0].askPrice,\n          size: res.data[0].askSize\n        };\n        this.setState({\n          getInfo: true,\n          stock: stock,\n          error: false\n        });\n        console.log(res);\n      } catch (err) {\n        this.setState({\n          error: false\n        });\n      }\n    };\n\n    this.state = {\n      ticker: '',\n      getInfo: false,\n      stock: '',\n      error: false\n    };\n    this.handleInput = this.handleInput.bind(this);\n  }\n\n  render() {\n    if (this.state.getInfo === true) {\n      if (this.state.error === true) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter a Ticker Name\",\n          name: \"search\",\n          onChange: this.handleInput,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          type: \"submit\",\n          onClick: this.findStock,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        })), React.createElement(StockCard, {\n          error: true,\n          errmsg: 'This Stock Could Not Be Found',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter a Ticker Name\",\n        name: \"search\",\n        onChange: this.handleInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.findStock,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(StockCard, {\n        error: false,\n        title: this.state.stock.symbol,\n        cost: this.state.stock.price,\n        quantity: this.state.stock.size,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter a Ticker Name\",\n      name: \"search\",\n      onChange: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.findStock,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default SearchPage;","map":{"version":3,"sources":["/home/deion/ttp-stockportfolio/client/src/component/stock/searchBar.js"],"names":["React","Component","StockCard","axios","SearchPage","constructor","props","handleInput","event","setState","ticker","target","value","findStock","e","preventDefault","console","log","state","length","config","method","url","res","data","getInfo","error","stock","symbol","price","askPrice","size","askSize","err","bind","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport StockCard from './StockCard'\nimport axios from 'axios';\n\nclass SearchPage extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            ticker:'',\n            getInfo:false,\n            stock:'',\n            error:false \n        }\n        this.handleInput= this.handleInput.bind(this)\n    }\n\n    handleInput= (event) => {\n        this.setState({\n            ticker: event.target.value\n        });\n    }\n    \n    findStock = async (e)=>{\n        e.preventDefault();\n        console.log('ticker ',this.state.ticker.length)\n        if(this.state.ticker.length===0){\n            console.log('here')\n            return;\n        }\n        const config ={ \n            method: 'get',\n            url: 'https://api.iextrading.com/1.0/tops?symbols='+this.state.ticker\n        }\n\n        try{\n            let res=await axios(config)\n            console.log(res)\n            if(res.data.length<1){\n                console.log('bad data')\n                this.setState({getInfo:true,error:true})\n                console.log('error is ',this.state.error)\n            }\n            let stock= {\n                symbol:res.data[0].symbol,\n                price:res.data[0].askPrice,\n                size:res.data[0].askSize\n            }\n            this.setState({getInfo:true,stock:stock,error:false})\n            console.log(res)\n        }catch(err){\n            this.setState({error:false})\n        }\n    }\n\n    render(){\n\n            if(this.state.getInfo===true){\n                if(this.state.error===true){\n                    return(\n                        <div>\n                        <form>\n                        <input type=\"text\" placeholder=\"Enter a Ticker Name\" name=\"search\" onChange={this.handleInput} />\n                        <button type=\"submit\" onClick={this.findStock}/>\n                        </form>\n                        <StockCard error={true} errmsg={'This Stock Could Not Be Found'} />\n                        </div>\n                    )\n                }\n\n                    return(\n                        <div>\n                        <form>\n                        <input type=\"text\" placeholder=\"Enter a Ticker Name\" name=\"search\" onChange={this.handleInput} />\n                        <button type=\"submit\" onClick={this.findStock}/>\n                        </form>\n                        <StockCard error={false} title={this.state.stock.symbol} cost={this.state.stock.price} quantity={this.state.stock.size} />\n                        </div>\n                    )\n                \n            }\n\n            return(\n                <div>\n                <form>\n                <input type=\"text\" placeholder=\"Enter a Ticker Name\" name=\"search\" onChange={this.handleInput} />\n                <button type=\"submit\" onClick={this.findStock}/>\n                </form>\n                </div>\n            )\n    }\n}\n\nexport default SearchPage;"]},"metadata":{},"sourceType":"module"}